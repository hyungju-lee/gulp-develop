{"version":3,"sources":["script2.js","script1.js","script3.js","script4.js"],"names":["dragElement","elmnt","elmnt2","leftSide1","leftSide2","topSide1","topSide2","pos3","pos4","pos5","pos6","dragMouseDown","e","target","className","window","event","preventDefault","clientX","clientY","document","onmouseup","closeDragElement","onmousemove","elementDrag","windowWidth","innerWidth","windowHeight","innerHeight","style","left","top","width","height","offsetLeft","offsetTop","onmousedown","init","this","setElements","bindEvents","textArea","getElementsByTagName","_this","addEventListener","textAreaOnFunc","console","log","getElementById","$","initLayout","deviceArea","deleteImage","btnLinkCancel","find","btnCouponCancel","btnError","inputSectionNum","inputCoupon","inputLink","imgArea","imgSize","imgSizeWidth","imgSizeHeight","currentArea","imgBox","imgBoxCoupon","imgBoxLink","currentCoord","currentX","currentY","lineX","lineY","resultListCoupon","resultListLink","couponCnt","linkCnt","coordUnit","hide","on","proxy","onDragEvents","removeImage","errorClickCancel","clickLinkCancel","clickCouponCancel","type","addClass","removeClass","val","alert","onDragleaveFunc","reader","FileReader","file","originalEvent","dataTransfer","files","readAsDataURL","onload","createImage","newImg","match","img","Image","src","result","html","onLoadImage","coordEvents","undefined","children","remove","off","showCurrentCoord","initDragArea","drawSelectArea","imgOffsetX","offset","toFixed","imgOffsetY","pageX","pageY","show","css","dragArea","which","isDragged","startX","startY","prop","prepend","first","drawDragging","dragX","dragY","selWidth","Math","abs","selHeight","endX","endY","i","background","line-height","attr","addCoordResult","length","eq","last","resultStr","selCnt","append","jQuery","_this2"],"mappings":"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","file":"script.min.js","sourcesContent":["dragElement(document.getElementById(\"btn-coordinate\"), null, document.getElementById(\"left-side\"), document.getElementById(\"right-side\"), document.getElementById(\"left-side-top\"), document.getElementById(\"left-side-bottom\"));\r\ndragElement(null, document.getElementById(\"draggable\"), null, null, null, null);\r\n\r\nfunction dragElement(elmnt, elmnt2, leftSide1, leftSide2, topSide1, topSide2) {\r\n    var pos3 = 0, pos4 = 0, pos5 = 0, pos6 = 0;\r\n    if (elmnt !== null) {\r\n        elmnt.onmousedown = dragMouseDown;\r\n    } else if (elmnt2 !== null) {\r\n        elmnt2.onmousedown = dragMouseDown;\r\n    }\r\n\r\n    function dragMouseDown(e) {\r\n        if (e.target.className !== 'inp-coordi' && e.target.className !== 'image-width' && e.target.className !== 'image-height' && e.target.className !== 'inp-section' && e.target.className !== 'btn btn_error' && e.target.className !== 'btn btn_linkCancel' && e.target.className !== 'btn btn_couponCancel' && e.target.className !== 'btn delete-image') {\r\n            e = e || window.event;\r\n            e.preventDefault();\r\n\r\n            pos3 = e.clientX;\r\n            pos4 = e.clientY;\r\n\r\n            document.onmouseup = closeDragElement;\r\n            document.onmousemove = elementDrag;\r\n        }\r\n    }\r\n\r\n    function elementDrag(e) {\r\n        var windowWidth = window.innerWidth,\r\n            windowHeight = window.innerHeight;\r\n        e = e || window.event;\r\n        e.preventDefault();\r\n\r\n        pos5 = pos3 - e.clientX;\r\n        pos6 = pos4 - e.clientY;\r\n        pos3 = e.clientX;\r\n        pos4 = e.clientY;\r\n\r\n        if (elmnt !== null) {\r\n            elmnt.style.left = pos3 * 100 / windowWidth < 10 ? 10 + \"%\" : pos3 * 100 / windowWidth > 90 ? 90 + \"%\" : pos3 * 100 / windowWidth + \"%\";\r\n            elmnt.style.top = pos4 * 100 / windowHeight < 10 ? 10 + \"%\" : pos4 * 100 / windowHeight > 90 ? 90 + \"%\" : pos4 * 100 / windowHeight + \"%\";\r\n            leftSide1.style.width = pos3 * 100 / windowWidth + \"%\";\r\n            leftSide2.style.width = (windowWidth - pos3) * 100 / windowWidth + \"%\";\r\n            topSide1.style.height = pos4 * 100 / windowHeight + \"%\";\r\n            topSide2.style.height = (windowHeight - pos4) * 100 / windowHeight + \"%\";\r\n        } else if (elmnt2 !== null) {\r\n            elmnt2.style.left = (elmnt2.offsetLeft - pos5) * 100 / windowWidth + \"%\";\r\n            elmnt2.style.top = (elmnt2.offsetTop - pos6) * 100 / windowHeight + \"%\";\r\n        }\r\n    }\r\n\r\n    function closeDragElement() {\r\n        document.onmouseup = null;\r\n        document.onmousemove = null;\r\n    }\r\n}","(function () {\r\n    'use strict';\r\n    var coordGenerator = {\r\n        init: function () {\r\n            this.setElements();\r\n            this.bindEvents();\r\n        },\r\n        setElements: function () {\r\n            this.textArea = document.getElementsByTagName('body');\r\n        },\r\n        bindEvents: function () {\r\n            this.textArea[0].addEventListener('click', () => {\r\n                this.textAreaOnFunc();\r\n            })\r\n        },\r\n        textAreaOnFunc : function () {\r\n            console.log('body');\r\n            // console.log($(this));\r\n        }\r\n    };\r\n    coordGenerator.init();\r\n})();\r\n\r\n// (function (win, $) {\r\n//     'use strict';\r\n//     var coordGenerator = {\r\n//         init: function () {\r\n//             this.setElements();\r\n//             this.bindEvents();\r\n//         },\r\n//         setElements: function () {\r\n//             this.textArea = $('textarea');\r\n//         },\r\n//         bindEvents: function () {\r\n//             this.textArea.on('focus',$.proxy(this.textAreaOnFunc, this))\r\n//         },\r\n//         textAreaOnFunc : function () {\r\n//             console.log('test');\r\n//             // console.log($(this));\r\n//         }\r\n//     };\r\n//     coordGenerator.init();\r\n// })(window, window.jQuery);","(function (win, $) {\r\n    var coordGenerator = {\r\n        init: function () {\r\n            this.setElements();\r\n            this.initLayout();\r\n            this.bindEvents();\r\n        },\r\n        setElements: function () {\r\n            this.deviceArea = $('.device_area');\r\n            this.deleteImage = $('.delete-image');\r\n            this.btnLinkCancel = this.deviceArea.find('.btn_linkCancel');\r\n            this.btnCouponCancel = this.deviceArea.find('.btn_couponCancel');\r\n            this.btnError = this.deviceArea.find('.btn_error');\r\n            this.inputSectionNum = $('#section-num');\r\n            this.inputCoupon = $('#coupon');\r\n            this.inputLink = $('#link');\r\n            this.imgArea = $('.img_area');\r\n            this.imgSize = $('.image-size');\r\n            this.imgSizeWidth = this.imgSize.find('.image-width');\r\n            this.imgSizeHeight = this.imgSize.find('.image-height');\r\n            this.currentArea = this.imgArea.find('.current_area');\r\n            this.imgBox = this.imgArea.find('.img_box');\r\n            this.imgBoxCoupon = this.imgArea.find('.img_coupon');\r\n            this.imgBoxLink = this.imgArea.find('.img_link');\r\n            this.currentCoord = this.currentArea.find('.current_coord');\r\n            this.currentX = this.currentCoord.find('.pos_x');\r\n            this.currentY = this.currentCoord.find('.pos_y');\r\n            this.lineX = this.currentArea.find('.line_x');\r\n            this.lineY = this.currentArea.find('.line_y');\r\n            this.resultListCoupon = $('.result_lst_coupon');\r\n            this.resultListLink = $('.result_lst_link');\r\n            this.couponCnt = 0;\r\n            this.linkCnt = 0;\r\n            this.coordUnit = 'px';\r\n        },\r\n        initLayout: function () {\r\n            this.currentArea.hide();\r\n        },\r\n        bindEvents: function () {\r\n            this.imgArea.on('dragover dragenter dragleave drop', $.proxy(this.onDragEvents, this));\r\n            this.deleteImage.on('click', $.proxy(this.removeImage, this));\r\n            this.btnError.on('click', $.proxy(this.errorClickCancel, this));\r\n            this.btnLinkCancel.on('click', $.proxy(this.clickLinkCancel, this));\r\n            this.btnCouponCancel.on('click', $.proxy(this.clickCouponCancel, this));\r\n        },\r\n        onDragEvents: function (e) {\r\n            if (e.type === 'dragover' || e.type == 'dragenter') {\r\n                this.imgArea.addClass('is_active');\r\n                return false;\r\n            } else if (e.type === 'dragleave') {\r\n                this.imgArea.removeClass('is_active');\r\n            } else if (e.type === 'drop') {\r\n                if (this.inputSectionNum.val() === '') {\r\n                    e.preventDefault();\r\n                    this.imgArea.removeClass('is_active');\r\n                    alert('섹션번호를 입력해주세요');\r\n                } else {\r\n                    this.onDragleaveFunc(e);\r\n                    alert('오른쪽 영역 해당 섹션에 쿠폰개수와 링크개수가 입력되어있는지 확인해주세요 \\n 영역 드래그 하시기 전에 그 부분을 입력해주셔야됩니다.');\r\n                }\r\n            }\r\n        },\r\n        onDragleaveFunc: function (e) {\r\n            var reader = new FileReader();\r\n            this.file = e.originalEvent.dataTransfer.files[0];\r\n            reader.readAsDataURL(this.file);\r\n            reader.onload = $.proxy(this.createImage, this);\r\n            e.preventDefault();\r\n        },\r\n        createImage: function (e) {\r\n            if (!this.file.type.match('image.*')) {\r\n                alert('이미지 형식의 파일만 열어주세요.');\r\n            } else {\r\n                if (!this.img) {\r\n                    var newImg = new Image();\r\n                    newImg.src = e.target.result;\r\n                    this.img = this.imgBox.html(newImg).find('img');\r\n                    this.img.on('load', $.proxy(this.onLoadImage, this));\r\n                }\r\n            }\r\n        },\r\n        onLoadImage: function () {\r\n            this.imgSizeWidth.val(this.img.width() + \"px\");\r\n            this.imgSizeHeight.val(this.img.height() + \"px\");\r\n            $('#secHeight' + this.inputSectionNum.val()).val(this.img.height());\r\n            this.imgArea.on('mousemove mouseenter mouseleave mousedown mouseup', $.proxy(this.coordEvents, this));\r\n        },\r\n        removeImage: function () {\r\n            if (this.img !== undefined) {\r\n                this.imgArea.removeClass('is_active');\r\n                this.imgBoxLink.children('.drag_area').remove();\r\n                this.imgBoxCoupon.children('.drag_area').remove();\r\n                this.resultListCoupon.children().remove();\r\n                this.resultListLink.children().remove();\r\n                this.img.remove();\r\n                this.file = undefined;\r\n                this.img = undefined;\r\n                this.couponCnt = 0;\r\n                this.linkCnt = 0;\r\n                this.imgSizeWidth.val(null);\r\n                this.imgSizeHeight.val(null);\r\n                this.inputSectionNum.val(null);\r\n                this.imgArea.off('mousemove mouseenter mouseleave mousedown mouseup');\r\n            }\r\n        },\r\n        coordEvents: function (e) {\r\n            if (e.type === 'mousemove' || e.type === 'mouseenter') {\r\n                this.showCurrentCoord(e);\r\n            } else if (e.type === 'mouseleave') {\r\n                this.currentArea.hide();\r\n            } else if (e.type === 'mousedown') {\r\n                this.initDragArea(e);\r\n            } else if (e.type === 'mouseup') {\r\n                this.drawSelectArea(e);\r\n            }\r\n        },\r\n        showCurrentCoord: function (e) {\r\n            this.imgOffsetX = this.img.offset().left.toFixed(0);\r\n            this.imgOffsetY = this.img.offset().top.toFixed(0);\r\n\r\n            var pageX = e.pageX - this.imgOffsetX,\r\n                pageY = e.pageY - this.imgOffsetY;\r\n\r\n            this.currentArea.show();\r\n            this.currentX.html(pageX + this.coordUnit);\r\n            this.currentY.html(pageY + this.coordUnit);\r\n            this.lineX.css('left', pageX);\r\n            this.lineY.css('top', pageY);\r\n        },\r\n        initDragArea: function (e) {\r\n            if (e.which === 1) {\r\n                this.isDragged = false;\r\n                this.imgOffsetX = this.img.offset().left.toFixed(0);\r\n                this.imgOffsetY = this.img.offset().top.toFixed(0);\r\n                this.startX = e.pageX - this.imgOffsetX;\r\n                this.startY = e.pageY - this.imgOffsetY;\r\n                var dragArea = $('<div class=\"drag_area\"></div>');\r\n                if (this.inputCoupon.prop('checked') === true) {\r\n                    this.imgBoxCoupon.prepend(dragArea);\r\n                    this.dragArea = this.imgBoxCoupon.children('.drag_area').first();\r\n                } else if (this.inputLink.prop('checked') === true) {\r\n                    this.imgBoxLink.prepend(dragArea);\r\n                    this.dragArea = this.imgBoxLink.children('.drag_area').first();\r\n                }\r\n                this.imgArea.on('mousemove', $.proxy(this.drawDragging, this));\r\n            }\r\n        },\r\n        drawDragging: function (e) {\r\n            this.isDragged = true;\r\n            this.imgOffsetX = this.img.offset().left.toFixed(0);\r\n            this.imgOffsetY = this.img.offset().top.toFixed(0);\r\n            this.dragX = e.pageX - this.imgOffsetX;\r\n            this.dragY = e.pageY - this.imgOffsetY;\r\n            this.selWidth = Math.abs(this.dragX - this.startX);\r\n            this.selHeight = Math.abs(this.dragY - this.startY);\r\n            this.endX = (this.dragX < this.startX) ? (this.startX - this.selWidth) : this.startX;\r\n            this.endY = (this.dragY < this.startY) ? (this.startY - this.selHeight) : this.startY;\r\n            this.dragArea.css({\r\n                'width': this.selWidth,\r\n                'height': this.selHeight,\r\n                'top': this.endY,\r\n                'left': this.endX\r\n            });\r\n        },\r\n        drawSelectArea: function (e) {\r\n            if (e.which === 1) {\r\n                if (!this.isDragged) {\r\n                    this.dragArea.remove();\r\n                } else {\r\n                    if (this.inputCoupon.prop('checked') === true) {\r\n                        var i = ++this.couponCnt;\r\n                        this.dragArea.css({\r\n                            'background': 'rgba(0,0,0,0.4)',\r\n                            'line-height': this.selHeight + 'px'\r\n                        }).html('쿠폰' + i);\r\n                        this.dragArea.attr('data-num', this.couponCnt);\r\n                        this.imgArea.off('mousemove', this.drawDragging);\r\n                        this.addCoordResult();\r\n                    } else if (this.inputLink.prop('checked') === true) {\r\n                        // var i = ++this.linkCnt;\r\n                        this.dragArea.css({\r\n                            'background': 'rgba(0,0,0,0.4)',\r\n                            'line-height': this.selHeight + 'px'\r\n                        }).html('링크' + i);\r\n                        this.dragArea.attr('data-num', this.linkCnt);\r\n                        this.imgArea.off('mousemove', this.drawDragging);\r\n                        this.addCoordResult();\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        clickCouponCancel: function () {\r\n            for (var i = 0; i < $('.drag_area').length; i++) {\r\n                if ($('.drag_area').eq(i).attr('data-num') === undefined) {\r\n                    $('.drag_area').eq(i).remove();\r\n                }\r\n            }\r\n            if (this.dragArea && this.couponCnt) {\r\n                this.imgBoxCoupon.find('.drag_area').eq(0).remove();\r\n                this.resultListCoupon.children('li').last().remove();\r\n                this.couponCnt--;\r\n                if (this.couponCnt < 0) {\r\n                    this.couponCnt = 0;\r\n                }\r\n            }\r\n        },\r\n        clickLinkCancel: function () {\r\n            for (var i = 0; i < $('.drag_area').length; i++) {\r\n                if ($('.drag_area').eq(i).attr('data-num') === undefined) {\r\n                    $('.drag_area').eq(i).remove();\r\n                }\r\n            }\r\n            if (this.dragArea && this.linkCnt) {\r\n                this.imgBoxLink.find('.drag_area').eq(0).remove();\r\n                this.resultListLink.children('li').last().remove();\r\n                this.linkCnt--;\r\n                if (this.linkCnt < 0) {\r\n                    this.linkCnt = 0;\r\n                }\r\n            }\r\n        },\r\n        errorClickCancel: function () {\r\n            for (var i = 0; i < $('.drag_area').length; i++) {\r\n                if ($('.drag_area').eq(i).attr('data-num') === undefined) {\r\n                    $('.drag_area').eq(i).remove();\r\n                }\r\n            }\r\n        },\r\n        addCoordResult: function () {\r\n            var resultStr;\r\n            if (this.inputCoupon.prop('checked') === true) {\r\n                resultStr = '<li><span class=\"num\">쿠폰' + this.couponCnt + '</span>' +\r\n                    '<input type=\"text\" class=\"inp-coordi\" data-num=\"' + this.selCnt + '\" value=\"' +\r\n                    'top:' + this.endY + this.coordUnit + ';' +\r\n                    'left:' + this.endX + this.coordUnit + ';' +\r\n                    'width:' + this.selWidth + this.coordUnit + ';' +\r\n                    'height:' + this.selHeight + this.coordUnit + ';\">';\r\n                $('#couponTop_' + this.inputSectionNum.val() + '_' + this.couponCnt).val(this.endY);\r\n                $('#couponLeft_' + this.inputSectionNum.val() + '_' + this.couponCnt).val(this.endX);\r\n                $('#couponWidth_' + this.inputSectionNum.val() + '_' + this.couponCnt).val(this.selWidth);\r\n                $('#couponHeight_' + this.inputSectionNum.val() + '_' + this.couponCnt).val(this.selHeight);\r\n                this.resultListCoupon.append(resultStr);\r\n            } else if (this.inputLink.prop('checked') === true) {\r\n                resultStr = '<li><span class=\"num\">링크' + this.linkCnt + '</span>' +\r\n                    '<input type=\"text\" class=\"inp-coordi\" data-num=\"' + this.selCnt + '\" value=\"' +\r\n                    'top:' + this.endY + this.coordUnit + ';' +\r\n                    'left:' + this.endX + this.coordUnit + ';' +\r\n                    'width:' + this.selWidth + this.coordUnit + ';' +\r\n                    'height:' + this.selHeight + this.coordUnit + ';\">';\r\n                $('#lnkTop_' + this.inputSectionNum.val() + '_' + this.linkCnt).val(this.endY);\r\n                $('#lnkLeft_' + this.inputSectionNum.val() + '_' + this.linkCnt).val(this.endX);\r\n                $('#lnkWidth_' + this.inputSectionNum.val() + '_' + this.linkCnt).val(this.selWidth);\r\n                $('#lnkHeight_' + this.inputSectionNum.val() + '_' + this.linkCnt).val(this.selHeight);\r\n                this.resultListLink.append(resultStr);\r\n            }\r\n        }\r\n    };\r\n    coordGenerator.init();\r\n})(window, window.jQuery);\r\n","(function () {\r\n    'use strict';\r\n    var coordGenerator = {\r\n        init: function () {\r\n            this.setElements();\r\n            this.bindEvents();\r\n        },\r\n        setElements: function () {\r\n            this.textArea = document.getElementsByTagName('body');\r\n        },\r\n        bindEvents: function () {\r\n            this.textArea[0].addEventListener('click', () => {\r\n                this.textAreaOnFunc();\r\n            })\r\n        },\r\n        textAreaOnFunc : function () {\r\n            console.log('body');\r\n            // console.log($(this));\r\n        }\r\n    };\r\n    coordGenerator.init();\r\n})();"]}